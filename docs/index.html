---
layout: home
author_profile: true
---

<div class="tag-filter">
  <h2>Filter by Tag</h2>
  <div id="tag-buttons">
    <!-- Tags will be populated here -->
  </div>
</div>

<div class="posts-list">
  <!-- Your existing posts list -->
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get all unique tags from posts
    const tags = [...new Set([].concat.apply([], 
      Array.from(document.querySelectorAll('.page__taxonomy-item'))
        .map(tag => tag.textContent.trim())
    ))];

    // Create tag buttons
    const tagButtons = document.getElementById('tag-buttons');
    tags.forEach(tag => {
      const button = document.createElement('button');
      button.textContent = tag;
      button.classList.add('tag-button');
      button.addEventListener('click', () => filterPosts(tag));
      tagButtons.appendChild(button);
    });

    // Add "Show All" button
    const showAllButton = document.createElement('button');
    showAllButton.textContent = 'Show All';
    showAllButton.classList.add('tag-button', 'active');
    showAllButton.addEventListener('click', () => showAllPosts());
    tagButtons.insertBefore(showAllButton, tagButtons.firstChild);
  });

  function filterPosts(selectedTag) {
    // Update active button state
    document.querySelectorAll('.tag-button').forEach(button => {
      button.classList.toggle('active', button.textContent === selectedTag);
    });

    // Filter posts
    document.querySelectorAll('.list__item').forEach(post => {
      const postTags = Array.from(post.querySelectorAll('.page__taxonomy-item'))
        .map(tag => tag.textContent.trim());
      post.style.display = postTags.includes(selectedTag) ? '' : 'none';
    });
  }

  function showAllPosts() {
    // Update active button state
    document.querySelectorAll('.tag-button').forEach(button => {
      button.classList.toggle('active', button.textContent === 'Show All');
    });

    // Show all posts
    document.querySelectorAll('.list__item').forEach(post => {
      post.style.display = '';
    });
  }
</script>